<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aurore Ponchon">

<title>Data processing Northern gannets Rouzic 2022</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="1-Data_processing_rouzic_files/libs/clipboard/clipboard.min.js"></script>
<script src="1-Data_processing_rouzic_files/libs/quarto-html/quarto.js"></script>
<script src="1-Data_processing_rouzic_files/libs/quarto-html/popper.min.js"></script>
<script src="1-Data_processing_rouzic_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="1-Data_processing_rouzic_files/libs/quarto-html/anchor.min.js"></script>
<link href="1-Data_processing_rouzic_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1-Data_processing_rouzic_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="1-Data_processing_rouzic_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="1-Data_processing_rouzic_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="1-Data_processing_rouzic_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data processing Northern gannets Rouzic 2022</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Aurore Ponchon </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="importing-data-from-movebank" class="level2">
<h2 class="anchored" data-anchor-id="importing-data-from-movebank">1- Importing data from Movebank</h2>
<p>The dataset is stored on the online database Movebank. It can be downloaded directly from the web as long as the user has an account and requests an access. The last locations include migration trip towards wintering grounds for 4 individuals.</p>
<div class="cell">

</div>
</section>
<section id="processing-location-data" class="level2">
<h2 class="anchored" data-anchor-id="processing-location-data">2- Processing location data</h2>
<p>Movebank datasets contain a lot of information that are not all necessary for the analysis so data are filtered and sorted. Some data from other files were added, such as individual serology (not used in the end).</p>
<p>Distances and time between locations and a few other variables are added to summarize time spent on land and at-sea. Raw data locations are visualized by some descriptive plots, especially to identify outliers in maximal distance and more importantly, time gaps.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="interpolation" class="level2">
<h2 class="anchored" data-anchor-id="interpolation">3- Interpolation</h2>
<p>As data has irregular time intervals between consecutive locations, data are linearly interpolated to have one location every 15min. (96% of data have a time interval &lt; 15min). Each raw trip is compared with interpolations. Illustrated maps are bounded at &gt; 47° N to have a better focus on the study area before migration. Note that migration trips are excluded after interpolation</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-6.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-7.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-8.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-9.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-10.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-11.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-12.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-13.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-3-14.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="summary-of-clean-trips" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-clean-trips">4- Summary of clean trips</h2>
<p>At-sea trips retained are at least &gt;1h long, &gt;1km from the colony and have more than 4 locations. Migration bounds are excluded.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="1-Data_processing_rouzic_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>